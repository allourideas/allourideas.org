/*!
 * All Our Ideas - Responsive CSS
 * Extends Twitter Bootstrap
 *
 * http://allourideas.org
 *
 * Generated by aoi-responsive.less
 * DO NOT DIRECTLY EDIT aoi-responsive.css
 * as your changes will be overwritten.
 *
 *
 */


@import "../bootstrap/less/bootstrap.less";  // Include the Bootstrap Styles
@import "../bootstrap/less/responsive.less"; // Include the Bootstrap Responsive Styles

@navbarCollapseWidth: 767px; // Overide width that the menu collapses at
@import "../bootstrap/less/responsive-navbar.less";
// Redefine collapse width for switching back as Bootstrap doesn't have it in a variable.
.nav-collapse.collapse {
  @media (min-width: 768px) {
    height: auto !important;
    overflow: visible !important;
  }
}

/*!
 * AOI CSS
 */


// -------------------------------
//  AOI Colours
// -------------------------------
@aoi_lightblue: #58B0E2; // Light blue from Logo
@aoi_blue: #367BBE;      // Blue from Logo
@aoi_alt-bg: #eee;



// -------------------------------
//  All pages
// -------------------------------

html{
  -webkit-overflow-scrolling: touch; // Use momentum based scrolling for the main page
}

body{
/*
  &.container-fluid, &.container, .container-fluid, .container,{
    max-width: 940px; // Don't get any bigger once we get to 940,
    .center-block;     // just centre the page.
  }
*/
  &.modal-open {
    overflow: hidden;  // Stops Android scrolling the main page rather than the modal
  }
}

.logo{
  margin-top: 1em;
}

h2{
  @media (max-width: 767px) {
    font-size: 21px; // Reduce the size of the header on mobile
    line-height: 30px;
  }
}




// -------------------------------
//  Menu
// -------------------------------

#log_in-menu{
  a{
    .btn;
    //.buttonBackground(#555, #777);  // If we want to give the button a colour use this
    margin-top: 5px;
  }
  @media(max-width: @navbarCollapseWidth){
    .pull-right; // When the menu is collapsed float right
  }
}
.navbar-static-top{
  width: auto; // Make the menu stretch to the sides
  min-width: 100%;
}
.navbar .btn-navbar{
  .pull-left; // Move the button that show/hides the menu to the left
}



// -------------------------------
//  'Create New' Section 
// -------------------------------

form#new_question_form{
  fieldset{
    legend{
      padding-top: 1em;
      em{
        color: @aoi_lightblue; // Highlight 'step 1', 'step 2' etc.
      }
    }
  }
  @media (min-width: 1200px){
    .form-horizontal; // When it's a very big screen switch to a horizontal form
  }
  
  #question_create_button{
    .btn-large; // Make the create button bigger
    @media (max-width: 767px) {
      width: 100%;
    }
  }
}










// -------------------------------
//  Vote Section
// -------------------------------

.vote-tabs{
  margin-bottom: 5px;
}
.tab-content{
  //background-color: @aoi_alt-bg;
  #gradient > .vertical(#fff, @aoi_alt-bg);
  padding-top: 0.5em;
  padding-bottom: 2em;
}

.vote-question{
  text-align: center;
  @media (max-width: 480px) {
    font-size: 18px;
    line-height: 24px;
  }
}

.answers{
  @media (max-width: 767px) {
    margin: 0;
    padding: 0 5%;
    width: 100%;
    .box-sizing(border-box);
    
    li{
      width: 100%;
      .box-sizing(border-box);
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 1em;
    }
  }
}

.vote_stats{
  text-align: center;
  color: #666666;   // Deemphasise from other options
  font-size: 12px;  // ? Discuss hiding on mobile to bring 'Add Idea' further up screen.
  clear: both;
}

.btn-vote{  // The main left/right vote buttons
  .btn-primary;  // Extend Primary Button from Bootstrap
  .btn-large;  // Extend Large Button from Bootstrap
  .buttonBackground(@aoi_lightblue, @aoi_blue); // Set the button colours
  
  display: table-cell;  // Allows us to use vertical-align to centre the text
  vertical-align: middle;
  min-height: 8em;  // This should be the maximun height (number of lines) 140 chars will wrap to in our sizes
  width:100%;
  
  @media (max-width: 480px) {
    font-size: 16px;
  }
  
}


// -------------------------------
//  'Cant decide' button and modal
// -------------------------------
.cant_decide{
  text-align: center;
}
#cant_decide_btn{
  @media (max-width: 767px) {
    width: intrinsic;  // Tell the button to be it's natural width if it
    min-width: 50%;    // is greater than 50% or stop at 50% if it is less
    .center-block;  // Centre the button horizontally
  }
}

#cant_decide_options{
  width: 500px;
  
  button.btn-primary{
    width: 100%;  // Make the buttons the full width of their column
    min-height: 3.6em; // Set a min-height so buttons in each column line up.
  }
  
  @media (min-width: 1200px){ // large screen
    width: 600px; // Give it a bit more space if it is a huge screen
  }
    
  @media (max-width: 979px) and (min-width: 768px){ // desktop
    width: 500px;
    .span6{
      width: 460px;
      margin-left: 20px;
    }
    .span3{
      width: 220px;
      margin-left: 20px;
    }
  }
  
  @media (max-width: 767px) {  // small screen / mobile
    position: fixed;
    top: 10px;      // Position the modal "full screen" on mobile
    bottom: 10px;
    left: 10px;
    right: 10px;
    width: auto;
    
    h2{
      font-size: 14px;
      line-height: 21px
    }
    button.btn-primary{
      min-height: auto; // Remove the min height when the buttons are shown in a single column to save vertical space and hopefully fit all of the options in on one screen.
    }
    .modal-body{  // Allow the body to fill the container space now we are "full screen"
      bottom: 0px;
      top:60px;
      position: absolute;
      max-height: 100%;
      height: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    .close{  // Make the close button a bigger target on small screens
      font-size: 40px;
      line-height: 30px;
    }
  }
  
} 




//  ----------------------------------------------------
//  New Idea Box
//  ----------------------------------------------------

#the_add_box{
  
  h3{
    color: @aoi_blue;
  }
  
  #new_idea_field{
    width: 100%;
    .box-sizing(border-box);
    min-height: 4em;
  }
}







.choice-progress{
  .progress{
    width: 85%;
    float: left;
    margin-right: 1em;
  }
}
#data-vis{
  @media (max-width: 767px) {
    .hidden;
  }
}






//  ----------------------------------------------------
//  Grid tweaks from the default Bootstrap responsive grid
//  ----------------------------------------------------

@media (max-width: 767px) {

  // Remove offset since Bootstrap resets all span widths to 100% but doesn't reset the Offset
  body{
    .offset (@columns) {
      margin-left: 0;
      }
    .offsetX (@index) when (@index > 0) {
      (~".offset@{index}") { .offset(@index); }
      (~'.offset@{index}:first-child') { .offset(@index); }
      .offsetX(@index - 1);
    }
    .offsetX (0) {}
    .row-fluid
    {
      .offsetX (@gridColumns);
    }
  }
  
  body.container-fluid{
    padding-left: 1em;
    padding-right: 1em;
  }

}